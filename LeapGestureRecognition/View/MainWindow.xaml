<Window x:Class="LeapGestureRecognition.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="SharpGL WPF Application" Height="600" Width="800" 
        xmlns:sharpGL="clr-namespace:SharpGL.WPF;assembly=SharpGL.WPF"
				DataContext="{Binding MainViewModel}">
	<Window.Resources>
		<BooleanToVisibilityConverter x:Key="BoolToVis" />
	</Window.Resources>

	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto" />
			<RowDefinition Height="*" />
			<RowDefinition Height="Auto" />
			<RowDefinition Height="100" />
		</Grid.RowDefinitions>

		<Menu Grid.Row="0" Padding="2,4" ItemsSource="{Binding MenuBar}">
			<Menu.ItemContainerStyle>
				<Style TargetType="MenuItem">
					<Setter Property="Command" Value="{Binding Command}" />
					<Setter Property="CommandParameter" Value="{Binding CommandParameter}" />
					<Setter Property="Header" Value="{Binding Header}" />
					<Setter Property="ItemsSource" Value="{Binding Items}"/>
				</Style>
			</Menu.ItemContainerStyle>
		</Menu>
		<TextBlock Grid.Row="0" Text="{Binding SelectedMenuItem}" VerticalAlignment="Center" HorizontalAlignment="Center" />

		<!-- SharpGL window-->
		<sharpGL:OpenGLControl 
				Name="openGLControl" OpenGLDraw="openGLControl_OpenGLDraw" 
				OpenGLInitialized="openGLControl_OpenGLInitialized" Resized="openGLControl_Resized"
				DrawFPS="True" RenderContextType="FBO" FrameRate="20" 
				Grid.Row="1" />
		
		<GridSplitter Grid.Row="2" Height="5" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Background="#444444" />
		
		<!-- Output window -->
		<ScrollViewer Grid.Row="3" Name="outputWindowScrollViewer" Background="#DADADA" VerticalScrollBarVisibility="Visible" 
									Visibility="{Binding ShowOutputWindow, Converter={StaticResource BoolToVis}}">
			<TextBox IsReadOnly="True" Text="{Binding OutputWindowContent}" TextWrapping="Wrap" Background="Transparent" VerticalAlignment="Stretch" />

			
		</ScrollViewer>


	</Grid>
</Window>
